{"version":3,"sources":["mini-redux/Store.js","mini-redux/ActionTypes.js","mini-redux/Reducer.js","mini-redux/View.js","mini-redux/Actions.js","mini-redux/middleware.js","mini-redux/InputView.js","mini-redux/FolderView.js","redux.js"],"names":["Store","reducer","_state","undefined","_listeners","_reducer","dispatch","type","action","bind","_notify","cb","push","index","indexOf","splice","forEach","listener","ActionTypes","INIT","SET_NAME","SET_FILES","Reducer","state","Types","name","payload","files","View","el","store","_el","_store","unsubscribe","subscribe","_prepareRender","getState","innerHTML","render","Error","setNameAction","setFilesAction","findFilesByName","fetch","then","response","json","filteredFilesList","data","filter","file","toLowerCase","includes","catch","err","console","log","InputView","_onInput","addEventListener","removeEventListener","event","clearTimeout","_throttling","setTimeout","target","value","FolderView","filesList","map","join","document","inputElement","querySelector","filesTableContainer"],"mappings":";;AQAA;;AACA;;APDA,AOEA,IPFMkB,WAAW,GAAG;AACnBC,AGDD,AGAA,ADAA,AJAA,AGAA,EJCCA,IAAI,EAAE,MADa;AAEnBC,AOCD,EPDCA,QAAQ,EAAE,UAFS;AAGnBC,AKDD,ADDA,EJECA,SAAS,EAAE;AAHQ,AIGb,CJHP,GIGaqB,eAAe,GAAG,SAAlBA,eAAkB,CAAAjB,IAAI;ADDnC,ACCmC,IDD7Be,KCCiC,MJGxBtB,EGJI,ECCoBZ,CDDjB,OCCyB,EDDzCkC,ACC6C,aDD7B,CAAAf,IAAI;AAAA,ACEzB,AGCD8C,QAAQ,CJHuB,AIGtBZ,EHDDhB,KAAK,CAAC,QGCd,CAA0B,kBAA1B,EAA8C,YAAW,iBHD5C,CAAL,CACLC,IADK,CACA,UAAAC,QAAQ;ADFftC,ACEe,AGCf,IJHAA,AJHKP,AGAA4B,EKMCE,EJHF,EAAEN,CIGK,EHDQqB,CGCL,IAAI7C,GHDS,CAAC8C,IAAT,EAAJ,GDFH1B,CIGE,CAAUE,MJJM,UIIhB,CAAd;AJFAI,ACCe,AGEf,IJHAA,CCAO,CGGD8C,CHDJ5B,IDFK,ACAA,CAEA,CDFEnB,KIGS,GAAG8C,CHDd5C,KAAK,EAAI,AGCa,CAAC8C,aAAT,CAAuB,cAAvB,CAArB;AJL8B,ACK5B,AGCF,GJNyB,GIMnBC,IHDE3B,eGCiB,EHDA,CGCGwB,EHDA5C,KAAK,CAACqB,AGCE,CAACyB,GHDT,CAAWxB,MAAX,CAAkB,EGClB,CAAuB,OHDLC,IAAI,EAAI,EGC1B,CAA5B;AJNyB,AJDzB,AGAA,AEOG,AGCH,CJPD,KIOKO,SHDMP,CFPErB,CHAA5B,CGAZ,CEOc,CFPE6B,AEODqB,ILPf,AQQA,CLRA,AKQcqB,CRRO,CGAE,IEOb,GAAmBpB,GGC7B,EAA4BtB,GHDlB,CAA4BL,CGCtC,GHD0C,CAAC0B,WAAL,EAA5B,CAAP;AHNJ,AFDsB,AGAE,AEQpB,AGCH,INRK7B,EMQD6C,CHHwB,CAA1B,GHLU,GAAG,SAAV7C,EMQL,CAAeoD,INRA,CAACnD,KAAD,EAAQf,MAAR,CMQf,CNRkC,CMQEsB,KAApC;ANPA,AGOExB,AGCF,CAND,KHKGA,IHPME,IGOE,CAAC,CHPG,CAACD,IAAf,uBGO0BwC,iBAAf,CAAD,CAAR;AHNF,AFFC,AGAA,AESCzC,MAAAA,GHPGkB,AFFCtB,AGAA6B,GAAL,EESS,CLTT,AGAWF,AESD,EFTV,CHAc1B,SAAd,GEEUiB,QAAX,KGOyBK,IAAd,CAAD,CAAR;ADJH,AFFE,AFFA,AGAA,AESC,IDLGgB,CCHE,EASLY,ELVIjD,AGAA4B,GECC,CASC,EFVP,GCIkB,ADJJF,CHAd,EIIqB,CJJH,CGAlB,AEUOwB,CLVP,EKUU,IDNNb,CFDAlB,KADJ,QEEqB,CAAAI,KAAK;AAAA,AFAzBF,AFHD,AGAA,AESU,QHNTA,CEA8B,AJH1BpB,AGAA4B,GDGA,CGMSsB,CHNP/C,GFHP,GEGa,AFHGP,AGAhB,AESqB,CHNPyB,AGMQ8B,EFTH1B,CESL,CAAYwB,ELT1B,CGAwB,AESV,CFTWpB,AESf,SFTS,CAAgB,KAAKC,cAAL,CAAoB1B,IAApB,CAAyB,IAAzB,CAAhB,CAAnB;ACIDF,AFHC,AFAA,AKQU,IDLXA,CCJO,CAAP,CADkD,CDK9C,ACOJ,CLVMD,CIGAkB,OJHL,CAAc,aIGHH,SADoB;AAEhCM,AJHEpB,AGDD,AEWD,IDPAoB,EJHEpB,GIGG,ADJC4B,CHCA,CIGCR,CJHC,WGDP,CAAoBG,KAAK,CAACM,QAAN,EAApB;ACE+B,AFEhC,AFJe,AGCd,AEWD,GDV2B,EJF1B,IEIIZ,qBAAMH,SAAX;AEF2B,AFG1B,AFFA,AKUD,CDXD,8BFIME,KADJ;AAECI,AGOF,QHPEA,KAAK,EAAEnB,MAAM,CAACmB;AAFf,AGUD,GAjBkC;AAAA,CAA5B,kCFKSJ,OAAO;ADMtB,ACLC,SDKIC,ECLCO,GAAL,CAASM,SAAT,GAAqB,GDKXlB,CFJA,CGDgBmB,EDK3B,ICLsB,CAAYf,KAAZ,CAArB;ADMD,AFJC,AGDA,aHCO,KAAKrB,MAAZ;AEKA,AFJA,aEIO;AACNuB,QAAAA,IAAI,EAAE,EADA;AAENE,IKhBGwC,ILgBHxC,KAAK,EAAE,cCNA;ADID,ACHP,ODGA,KCHM,IAAIY,KAAJ,CAAU,OHCR/B,QAAQ,cGDV,CAAN;ADVD,AFYC,AGDA,IGVIiD,MNWA,OAAOjD,MAAP,KAAkB,UAAtB,EAAkC;AEMnC,AFLEA,CEdH,OFcGA,MAAM,CAAC,KAAKF,QAAL,CAAcG,IAAd,CAAmB,IAAnB,CAAD,CAAN;AACA;AOdF,APeE,eEKYa,OKpBFO,EAAZ,EAAgBC,IJaN,CIbV,EAAuB;AAAA,AJctB,WAAKC,GAAL,CAASM,SAAT,GAAqB,EAArB;AGZD,ANcC,AGDA,WHCKnC,AGDA+B,MHCL,GAAc,CMdHJ,CHaX,CGbD,EAAgBC,ANcIzB,KMdpB,EAAuB,CNcR,CAAc,KAAKH,MAAnB,EAA2BM,MAA3B,CAAd;AOhBsB,ADEA,AHctB,mFIfMqB,EADgB,EACZC,KADY;AAEtB,APeA,WAAKpB,OAAL;AMfsB,ANgBtB;;AMfA,mFAAMmB,EAAN,EAAUC,KAAV;AACA,UAAK4B,QAAL,GAAgB,MAAKA,GCAZ,APgBA/C,IAAI,CMhBG,CAAcF,IAAd,+BAAhB;ACCA,APgBA,WAAKL,IGFQwB,MHEb,CAAgBhB,IAAhB,CAAqBD,EAArB;AOfA,ADDA,UAAKoB,GAAL,CAAS4B,gBAAT,CAA0B,OAA1B,EAAmC,MAAKD,QAAxC;ANiBA,aAAO,YAAW;AMhBlB5B,ANiBC,IMjBDA,KAAK,CAACxB,ENiBCO,KAAK,CMjBZ,CAAe,CNiBA,KAAKT,UAAL,CAAgBU,OAAhB,CAAwBH,EAAxB,CAAd,KMjB8B,EAAhB,CAAf;AAJsB,iCCML;AAAA,ADDjB,ANiBC,UOhBOgB,GPgBFvB,EOhBW,QAATuB,APgBP,GAAkB,EOhBF,GPgBOvB,UAAL,CAAgBW,MAAhB,CAAuBF,KAAvB,EAA8B,CAA9B,CAAlB;AOfD,APgBC,OAHD,GObMuD,SAAS,GAAGzC,KAAK,CACrB0C,GADgB,CACZ,UAAAnB,IAAI,EAAI;AACZ,APeF,urBOP0DA,IARxD;AAqBA,OAvBgB,EAwBhBoB,IAxBgB,CAwBX,EAxBW,CAAlB;AA0BA,aAAOF,SAAS,GAAGA,KD1BV,IC0BO,GAAe,EAA/B;AACA,AD1BA,8BNkBS;AAAA;AMjBT,WAAKV,QAAL,CAAcE,mBAAd,CAAkC,OAAlC,EAA2C,KAAKF,QAAhD;AACA,ANiBA,WAAKtD,UAAL,CAAgBY,OAAhB,CAAwB,UAAAC,QAAQ,EAAI;AACnCA,EO/BsBW,MP+BtBX,QAAQ,CAAC,KAAI,CAACf,MAAN,CAAR;AACA,OAFD;AAGA,eOOaiE,cDzBLN,OAAO;AACfC,MAAAA,YAAY,CAAC,KAAKC,WAAN,CAAZ;AAEA,UAAIjC,KAAK,GAAG,KAAKE,MAAjB;AACA,WAAK+B,WAAL,GAAmBC,UAAU,CAAC,YAAW;AACxClC,QAAAA,KAAK,CAACxB,QAAN,CAAe,iCAAgBuD,KAAK,CAACI,MAAN,CAAaC,KAA7B,CAAf;AACA,OAF4B,EAE1B,GAF0B,CAA7B;AAGA,eNcalE;;;6BMZL;AACR,aAAO,EAAP;AACA;;;;EAxBsB4B;;eA2BT6B","file":"redux.cf4b7355.js","sourceRoot":"../src","sourcesContent":["class Store {\n\tconstructor(reducer) {\n\t\tthis._state = undefined;\n\t\tthis._listeners = [];\n\t\tthis._reducer = reducer;\n\t\tthis.dispatch({\n\t\t\ttype: 'init'\n\t\t});\n\t}\n\n\tgetState() {\n\t\treturn this._state;\n\t}\n\n\tdispatch(action) {\n\t\tif (typeof action === 'function') {\n\t\t\taction(this.dispatch.bind(this));\n\t\t\treturn;\n\t\t}\n\t\tthis._state = this._reducer(this._state, action);\n\t\tthis._notify();\n\t}\n\n\tsubscribe(cb) {\n\t\tthis._listeners.push(cb);\n\t\treturn function() {\n\t\t\tconst index = this._listeners.indexOf(cb);\n\t\t\tthis._listeners = this._listeners.splice(index, 1);\n\t\t};\n\t}\n\n\t_notify() {\n\t\tthis._listeners.forEach(listener => {\n\t\t\tlistener(this._state);\n\t\t});\n\t}\n}\n\nexport default Store;\n","const ActionTypes = {\n\tINIT: 'init',\n\tSET_NAME: 'SET_NAME',\n\tSET_FILES: 'SET_FILES',\n};\n\nexport default ActionTypes;\n","import Types from './ActionTypes';\n\nconst Reducer = (state, action) => {\n\tswitch (action.type) {\n\tcase Types.SET_NAME:\n\t\treturn {\n\t\t\t...state,\n\t\t\tname: action.payload\n\t\t};\n\tcase Types.SET_FILES:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfiles: action.files\n\t\t};\n\tcase Types.INIT:\n\tdefault:\n\t\treturn {\n\t\t\tname: '',\n\t\t\tfiles: []\n\t\t};\n\t}\n};\n\nexport default Reducer;\n","class View {\n\tconstructor(el, store) {\n\t\tthis._el = el;\n\t\tthis._store = store;\n\t\tthis.unsubscribe = store.subscribe(this._prepareRender.bind(this));\n\t\tthis._prepareRender(store.getState());\n\t}\n\n\t_prepareRender(state) {\n\t\tthis._el.innerHTML = this.render(state);\n\t}\n\n\trender() {\n\t\tthrow new Error('render should be overridden');\n\t}\n\n\tdestroy() {\n\t\tthis._el.innerHTML = '';\n\t\tthis.unsubscribe();\n\t}\n}\n\nexport default View;\n","import Types from './ActionTypes';\n\nconst setNameAction = name => ({\n\ttype: Types.SET_NAME,\n\tpayload: name\n});\n\nconst setFilesAction = files => ({\n\ttype: Types.SET_FILES,\n\tfiles: files\n});\n\nexport { setNameAction, setFilesAction };\n","import { setNameAction, setFilesAction } from './Actions';\n// import data from './filesData';\n\nexport const findFilesByName = name => dispatch => {\n\treturn fetch('http://localhost:3000/api/repos/redux-thunk/tree/master/')\n\t\t.then(response => response.json())\n\t\t.then(files => {\n\t\t\tconst filteredFilesList = files.data.filter(file => {\n\t\t\t\treturn file.toLowerCase().includes(name.toLowerCase());\n\t\t\t});\n\t\t\tdispatch(setFilesAction(filteredFilesList));\n\t\t\tdispatch(setNameAction(name));\n\t\t})\n\t\t.catch(err => console.log(err));\n\n\t// const filteredFilesList = data.filter(file => {\n\t// \treturn file.name.toLowerCase().includes(name.toLowerCase());\n\t// }).map(file => file.name);\n\t// dispatch(setFilesAction(filteredFilesList));\n\t// dispatch(setNameAction(name));\n};\n","import View from './View';\n\nimport { findFilesByName } from './middleware';\n\nclass InputView extends View {\n\tconstructor(el, store) {\n\t\tsuper(el, store);\n\t\tthis._onInput = this._onInput.bind(this);\n\t\tthis._el.addEventListener('input', this._onInput);\n\t\tstore.dispatch(findFilesByName(''));\n\t}\n\n\tdestroy() {\n\t\tsuper.destroy();\n\t\tthis._onInput.removeEventListener('input', this._onInput);\n\t}\n\n\t_onInput(event) {\n\t\tclearTimeout(this._throttling);\n\n\t\tlet store = this._store;\n\t\tthis._throttling = setTimeout(function() {\n\t\t\tstore.dispatch(findFilesByName(event.target.value));\n\t\t}, 300);\n\t}\n\n\trender() {\n\t\treturn '';\n\t}\n}\n\nexport default InputView;\n","import View from './View';\n\nclass FolderView extends View {\n\tconstructor(el, store) {\n\t\tsuper(el, store);\n\t}\n\n\tdestroy() {\n\t\tsuper.destroy();\n\t}\n\n\trender({ files }) {\n\t\tconst filesList = files\n\t\t\t.map(file => {\n\t\t\t\treturn `\n\t\t\t\t\t<div class=\"Grid-Row Grid-Row_border_b Grid Grid_m-columns_12\">\n\t\t\t\t\t\t<div class=\"Grid-File Grid-Fraction Grid-Fraction_m-col_2\">\n\t\t\t\t\t\t\t<div class=\"FileIcon FileIcon_type_folder\">\n\t\t\t\t\t\t\t\t<svg width=\"12\" height=\"9\" viewBox=\"0 0 12 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<path d=\"M10.875 1.5H6.375L4.875 0H1.125C0.492188 0 0 0.515625 0 1.125V7.875C0 8.50781 0.492188 9 1.125 9H10.875C11.4844 9 12 8.50781 12 7.875V2.625C12 2.01562 11.4844 1.5 10.875 1.5Z\" fill=\"black\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"Grid-FileName Grid-FileName_text_bold\">${file}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"Grid-CommitHash Grid-Fraction Grid-Fraction_m-col_2\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"Link Link_color_blue\">d53dsv</a>\n\t\t\t\t\t\t\t<div class=\"Grid-CommitInfo\">by Alexey Besedin, 4 s ago</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"Grid-CommitMessage Grid-Fraction Grid-Fraction_m-col_4\">[vcs] move http to arc</div>\n\t\t\t\t\t\t<div class=\"Grid-Committer Grid-Fraction Grid-Fraction_m-col_2\">\n\t\t\t\t\t\t\t<span class=\"AuthorSpan\">author</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"Grid-UpdateDate Grid-Fraction Grid-Fraction Grid-Fraction_m-col_2 Grid-Fraction_text-align_right\">4 s ago</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\t\t\t})\n\t\t\t.join('');\n\n\t\treturn filesList ? filesList : '';\n\t}\n}\n\nexport default FolderView;\n","import Store from './mini-redux/Store';\nimport Reducer from './mini-redux/Reducer';\nimport InputView from './mini-redux/InputView';\nimport FolderView from './mini-redux/FolderView';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\tconst store = new Store(Reducer);\n\tconst inputElement = document.querySelector('.SearchInput');\n\tconst filesTableContainer = document.querySelector('.Grid-Content');\n\tnew InputView(inputElement, store);\n\tnew FolderView(filesTableContainer, store);\n});\n"]}